---
title: セキュリティキャンプ全国大会2023 参加記
description: セキュリティキャンプ全国大会に行ってきたので、その参加記を書きました。
date: '2023-8-15'
categories:
  - cyber security
  - seccamp
published: true
---

<br/>

# はじめに
8/7~8/11までの５日間、セキュリティキャンプ全国大会2023 Bクラス(Webセキュリテクラス)に参加してきました。
場所はクロスウェーブ府中でした。あと執筆中、体調が悪すぎていちから参加記を書くのがだるすぎたので、
修了課題をほとんどそのままコピペしています。あとから色々修正したり追加したりします。

<br/>

# 参加前(7~8月)
７月から８月までは名刺に印刷したQRコード用のポートフォリオ(このサイト)の開発と事前学習をしていました。
事前学習は、dockerコンテナ上でアプリケーションをデプロイする方法や、そのコンテナをdocker-composeで
オーケストレーションする方法、kubenetesのクラスタでアプリケーションをデプロイする方法などを学習していました。
あとはcodeqlの使い方(超基礎)や有名な脆弱性(log4j)についても勉強しました。  

<br/>

# 一日目
一日目は11時頃に現地に着き、そのまま昼食を食べました。同席した方々と少々気まずい雰囲気の中雑談しながら食べました。
その後、開会式までの時間、噂に聞いていた名刺交換会がはじまりました。
みんないろんな名刺を持っていたのですが、かなりの人がラクスルを利用していて、
テンプレートを利用している人は、たまに全く同じデザインで名前だけ違うみたいな名刺もありました。

夜は、Bクラスの１つ目の講義「webプロダクトセキュリティへのいざない」がありました。
この講義では技術的なことには触れず、キャンプ中の講義がどのようなものになるのかを説明したものでした。
以前のBクラスは特定の脆弱性にフォーカスした講義や、webブラウザ自作などの講義だったものが、
今年は、docker、 k8s、移り変わる技術への適用、レッドチーミング、アプリケーションの静的解析、
policy as code、モダンな認証方法など、レイヤーやトピックの種類がたくさんのものに変わったそうです。
ハッカーの育成だけを目的としてないからだそうです。
参加した人間すべてがハッカーやセキュリティエンジニアになるわけでなく、
経営者になる人がいるかもしれないし、開発をメインですることになる人がいるかもしれない。
そのような人たちも、経営者だけどセキュリティについて少し知見があるだとか、
開発者だけどセキュリティについての知識も結構あるだとか、そのような状態になることが、
日本の情報セキュリティの水準を上げることに繋がるのであれば、やはり、
単純に技術だけでなく、様々な視点、トピックの話をした講義がしたほうが良いのかもしれません。
個人的には、一つのトピックを集中して学習するスタイルも面白そうだと思いましたが、
今回のような講義スタイルでも、自分の知らないwebのトピックの学習への取っ掛かりができたと思っています。
コンテナとか。静的解析ツールとか。

<br>

# 二日目
二日目は5:30頃に起床し、早めに朝食をとって、講義が始まるまで二度寝をしていました。
8:30からはじめの講義「開発プロセスを攻撃者の目線で捉える」が始まりました。
この講義では、レッドチーミングに関する座学と演習、CI/CDのセキュリティに関する座学と演習をしました。
## 講義1
### 前半
攻撃に関しては、知識があったので、講義の殆どの部分を理解することができました。
前半の講義では、自分はいつもCTFでアプリケーション単体に対する脆弱性の解析をしているので、
ソーシャルエンジニアリングによる侵害、
多数のシステムの関係性を利用した侵害など興味深い話や演習がたくさんあってとてもおもしろかったです。
### 後半
サプライチェーン攻撃については、自分がアプリの依存関係に存在する脆弱性を利用して
攻撃をしてきた経験が結構あるので、深刻さがよりリアルに実感できました。

また、ペネトレーションテストを行うときのフレームワーク(ATT&CK)を紹介していただき、
「あ、これ[本](https://amzn.asia/d/bz0geS4)で見たやつだ」となりました。以前見たときは面倒くさいし、
実際にHTBなどでやる意味があるのかわからなかった
(というよりフレームワークの効果が発揮されるようなレベルに到達していない)のですが、
かなり有用とのことだったので、今のうちから、フレームワークに則った攻撃を行えるようになっておけば、
自分のレベルが上がったり、将来就職したりしたときに便利そうなので、積極的に使っていこうと思いました。
## 講義2
午後の講義は「クラウドネイティブセキュリティの実践と戦略」でした。  
自分はこの講義を受けるまで、正確には事前課題をやるまでdockerは、一回だけ開発に用いたことがあって、
あとはctfでローカルでテストするときに使用する程度、k8sは名前しか聞いたことがない程度の知識、経験でした。
講義でk8sの障害対策の機能を実際に手で動かして、負荷に合わせてpodのスペックや数が自動的にスケーリングしていく様
を自分のターミナルで見て、感動しました。k8sは処理分散に秀でているとはよく聞いていましたが、
その機能を確認することができました。
また、k8sのセキュリティについては、awsの知識が乏しく、演習内では何をやっているのかを解像度高く理解することは
難しかったですが、クラウドサービスに対する知識の欠如を改めて認識したり、
これまで触ってこなかったコンテナ技術に関するセキュリティに興味を持つことができたので良かったです。
CTFの問題や、HTBのインスタンスはコンテナ上でデプロイされていますが、
自分が問題を解くときにそれを意識することはありませんでした。実世界のセキュリティでは、
CTFではやらないような分野への知識も多く求められるので、講義でいただいた、
コンテナセキュリティの書籍をスタートラインにして、勉強を始めてみようと思いました。

頂いた本: 「基礎から学ぶコンテナセキュリティ」https://amzn.asia/d/9CQV0rZ

<br>

# 三日目
## 講義1
三日目の１つ目の講義は「webサービスにおける安全な認証とid連携の実装」でした。  
sso、passkey、oauth, openid connect、などモダンな認証、認可について知ることができました。
自分は公への公開に耐えうるサービスや、その認証を実装したことがなかったため、
これらの技術を利用して認証機能を実装するだけでもかなりの経験になるという話を聞いて、
client, service provider, identity provider, user information などをb3で学んだk8sクラスタで再現して、
実際に実装してみようと思いました。
また、oauthにおけるcsrf対策のstateについては応募課題のときに調査をして理解したつもりになっていましたが、
実際に講義を受けたときに、なぜいちいちstateで管理をするんだろう？
セッションに基づく値を算出するのであればログイン処理中の短期間有効なセッションを
もう一つ発行すればよいのではないか？という疑問が浮かんできたので、もう一度勉強してみます。
また、FIDOは秘密鍵やパスワードなどをリモートに保存することなく認証ができることが大きな利点だったはずなのに、
それでは秘密鍵を紛失(デバイスの紛失など)をしたときに
認証ができなくなって不便すぎるという理由から秘密鍵を共有するようになっていたので、
それではセキュリティのリスクがなくなっていないし、
秘密鍵をプロバイダーが知れるのでプライバシーの侵害というリスクもあります。
やっぱりuxとセキュリティはトレードオフなんだなって思いました。
## 講義2
2つ目の講義は「適応し続けるプロダクトセキュリティ」でした。  
移り変わりが激しい技術に適応し続ける術などを紹介していただきました。
自分は高校生なので実務経験がなく、開発コミュニティなどでも主導で開発したことがないので、
正直CTO,CSO目線での話はまだあまり想像し難いものもありました。
しかし、説明責任を果たす、納期を守る、相談される立場になる、
何をするべきかわからないときはとりあえず流行りに乗ってみるなど
普段の生活にも活かせそうな話もたくさん聞けました。

<br>

# 四日目
## 講義1
午前の講義は「ソースコード解析によるwebアプリケーションの脆弱性解析」でした。  
手動や、codeqlでの静的な脆弱性解析について学びました。
いつもwebアプリの静的解析(手動)はしているので理解できることが多かったです。
これまでcodeqlやide付属の定義ジャンプなどを知らなくて、
使ったことがなかったので便利なツールの存在を知ることができて良かったです。
これからはでかいソースコードを読むときに手動でフローをたどらなくてすみそうで嬉しいです。
## 講義2
午後の講義は「policy as code」でした。
ポリシーを抽象度の高い自然言語で定義せず、コードとして厳密に定義するのは利点が多そうだと思いました。顧客や、IT知識のない上流に説明するときは、コードであれば、構造化ができているのでGUIにして説明することができます。今回扱ったregoではjsonを渡すとjsonで返してくれるので汎用性が極めて高いです。また、開発者目線でもポリシーをjsonで扱えたほうが便利です。

<br>

# 五日目
講義は四日目で終わったので、五日目はグループワークや写真撮影などをしました。
グループワークでは同じクラスで5人チームを作ってセキュリティに関するコンテンツを考えました。
キャンプ終了後もできた仲間とつながってなにか活動ができたらいいよね、っていう趣旨で行われているそうです。
僕のグループでは、全員月一回をノルマにして技術ブログを投稿しようというものになりました。
ということなので、私はこれから最低月に一回は技術ブログを書いていきます。

<br>

# 最後に
自分より若いのにCTFで高順位をとっている方や、一度勉強を諦めた領域でとても活躍している方々と接して、
焦燥感と尊敬と、自分もそうなりたいという憧れを抱くことができました。
自分はwebハッキングや、暗号解析、CTFが好きなので、今後の目標はつよつよethical hackerになることです。
具体的には、Hack The Boxで今年中にHacker、もしくはPro Hackerレベルに到達と、
来年中にSecconなどの大きなCTF大会での高順位を取ることです。また、webセキュリティクラスの講義で、
低レイヤーの知識があったらもっと理解できたところや、社会見学でのしょくはつ、
CTFでのメジャートピックであることの理由から、binary exploitation についての深い知識もつけていきたいと思ったので、
来年は本を読みながら、自作ブラウザor自作osを開発したいと思います
